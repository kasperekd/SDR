# Взаимодействие с буфером Adalm Pluto SDR (libiio v1.0)

Данный проект реализует взаимодействие с буферами передачи (TX) и приема (RX) на платформе Adalm Pluto SDR с использованием библиотеки libiio. Основная цель проекта заключается в записи принятых отсчетов для последующего "оффлайн" анализа. Программа на C++ настраивает параметры потоков, инициализирует устройства, а также обрабатывает данные, полученные от SDR.

## Структура кода

Код состоит из нескольких ключевых частей:

1. **Импорт библиотек**: Включены необходимые заголовочные файлы для работы с IIO, математическими функциями и стандартными библиотеками C++.

2. **Определение макросов**: Макросы `MHZ` и `GHZ` используются для преобразования значений частоты в соответствующие единицы измерения.

3. **Структуры и переменные**: Определены структуры для конфигурации потоков и переменные для хранения контекста IIO, каналов и буферов.

4. **Функция завершения**: `shutdown()` отвечает за корректное завершение работы программы, освобождая все ресурсы.

5. **Обработка сигнала прерывания**: Реализована обработка сигнала SIGINT для корректного завершения программы при нажатии CTRL-C.

6. **Основная функция**: В `main()` происходит:
   - Инициализация контекста IIO и устройств.
   - Настройка параметров TX и RX каналов.
   - Создание и настройка потоков и буферов.
   - Цикл обработки данных, в котором происходит передача и прием сигналов.
   - Запись принятых данных в файл для последующего анализа.

## Использование

### Компиляция

Для компиляции программы необходимо установить библиотеку libiio и использовать компилятор g++. Пример команды для компиляции:

```bash
g++ -o adalm_pluto adalm_pluto.cpp -liio
```

### Запуск

Для запуска программы необходимо подключить устройство Adalm Pluto SDR к компьютеру и убедиться, что оно доступно по сети. Затем выполните:

```bash
./adalm_pluto
```

### Входные данные

Программа ожидает файл `qpsk_signal.bin`, который содержит QPSK сигнал в формате int16. Этот файл должен быть подготовлен заранее.

### Выходные данные

Результаты приема будут записаны в файл `single_adalm_rx.txt` в формате:

```
I_value, Q_value
```

где `I_value` и `Q_value` - это отсчеты, полученные от SDR.

## Заключение

Данный проект демонстрирует основные принципы работы с SDR и библиотекой libiio для передачи и приема сигналов.